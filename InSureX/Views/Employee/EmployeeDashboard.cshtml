@model InSureX.Models.EmployeeDashboardViewModel
@{
    ViewData["Title"] = "Employee Dashboard";
}

<h2 class="mb-4">Welcome to InSureX Employee Dashboard</h2>

<!-- Summary Cards -->
<div class="row mb-4">
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card text-white bg-primary shadow-sm">
            <div class="card-header text-center">Total Claims</div>
            <div class="card-body text-center">
                <h3 class="card-title">@Model.TotalClaims</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card text-white bg-warning shadow-sm">
            <div class="card-header text-center">Pending Claims</div>
            <div class="card-body text-center">
                <h3 class="card-title">@Model.PendingClaims</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card text-white bg-success shadow-sm">
            <div class="card-header text-center">Approved Claims</div>
            <div class="card-body text-center">
                <h3 class="card-title">@Model.ApprovedClaims</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card text-white bg-danger shadow-sm">
            <div class="card-header text-center">Rejected Claims</div>
            <div class="card-body text-center">
                <h3 class="card-title">@Model.RejectedClaims</h3>
            </div>
        </div>
    </div>
</div>

<hr />

<h3 class="mt-4 mb-3">Your Claims</h3>

@if (!Model.Claims.Any())
{
    <div class="alert alert-info shadow-sm">
        <i class="bi bi-info-circle"></i> You have not submitted any claims yet.
    </div>
}
else
{
    <div class="table-responsive">
        <table class="table table-striped table-hover shadow-sm align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Claim ID</th>
                    <th>Details</th>
                    <th>Total Amount</th>
                    <th>Approved Amount</th>
                    <th>Status</th>
                    <th>Date Submitted</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var claim in Model.Claims)
                {
                    <tr>
                        <td>@claim.ClaimId</td>
                        <td>@claim.Details</td>
                        <td>₹@claim.Amount</td>
                        <td>@(claim.ApprovedAmount.HasValue ? "₹" + claim.ApprovedAmount.Value : "-")</td>
                        <td>
                            @switch (claim.Status)
                            {
                                case "Pending":
                                    <span class="badge bg-warning text-dark">Pending</span>
                                    break;
                                case "Approved":
                                    <span class="badge bg-success">Approved</span>
                                    break;
                                case "Rejected":
                                    <span class="badge bg-danger">Rejected</span>
                                    break;
                            }
                        </td>
                        <td>@claim.SubmittedDate.ToString("dd-MMM-yyyy")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}

<div class="mt-4">
    <a asp-controller="Employee" asp-action="CreateClaim" class="btn btn-primary">
        <i class="bi bi-plus-circle"></i> Submit New Claim
    </a>
</div>
